<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1520 1480" width="1520" height="1480" font-family="Segoe UI, Arial, sans-serif">
  <defs>
    <filter id="shadow" x="-4%" y="-4%" width="108%" height="108%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
    <filter id="glow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="0" dy="0" stdDeviation="6" flood-color="#D4145A" flood-opacity="0.25"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4A4A4A"/>
    </marker>
    <marker id="arrow-blue" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0078D4"/>
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#107C10"/>
    </marker>
    <marker id="arrow-red" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#D4145A"/>
    </marker>
    <marker id="arrow-purple" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#5C2D91"/>
    </marker>
    <marker id="arrow-orange" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#F57C00"/>
    </marker>
    <pattern id="sdk-stripe" x="0" y="0" width="6" height="6" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">
      <line x1="0" y1="0" x2="0" y2="6" stroke="#D4145A" stroke-width="1" stroke-opacity="0.06"/>
    </pattern>
    <pattern id="k8s-grid" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
      <rect width="20" height="20" fill="none"/>
      <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#326CE5" stroke-width="0.3" stroke-opacity="0.12"/>
    </pattern>
  </defs>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--  BACKGROUND                                                   -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <rect width="1520" height="1480" fill="#F0F2F5" rx="8"/>

  <!-- Title -->
  <rect x="30" y="12" width="1460" height="58" rx="8" fill="#1A1A1A"/>
  <text x="760" y="38" text-anchor="middle" font-size="22" font-weight="bold" fill="#FFFFFF">Agent Framework Chatbot ‚Äî Application &amp; Kubernetes Deployment Architecture</text>
  <text x="760" y="56" text-anchor="middle" font-size="11" fill="#AAAAAA">AKS Cluster: rkaksdev  ‚Ä¢  ACR: rkimacr.azurecr.io  ‚Ä¢  Agent Framework SDK v1.0.0b  ‚Ä¢  KAITO  ‚Ä¢  Kustomize</text>

  <!-- SDK + K8s legend banner -->
  <rect x="30" y="80" width="1460" height="28" rx="5" fill="#FDE8EE" stroke="#D4145A" stroke-width="1"/>
  <text x="50" y="99" font-size="11" font-weight="bold" fill="#D4145A">üî¥ Red border = Agent Framework SDK</text>
  <text x="370" y="99" font-size="11" font-weight="bold" fill="#326CE5">üîµ Blue background / border = Kubernetes resource</text>
  <text x="740" y="99" font-size="11" font-weight="bold" fill="#107C10">üü¢ Green = KAITO GPU workloads</text>
  <text x="1050" y="99" font-size="11" font-weight="bold" fill="#F57C00">üü† Orange = Configuration / Secrets</text>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--  INTERNET / USER                                              -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <rect x="40" y="126" width="120" height="90" rx="12" fill="#FFF" stroke="#0078D4" stroke-width="2" filter="url(#shadow)"/>
  <text x="100" y="158" text-anchor="middle" font-size="28">üë§</text>
  <text x="100" y="182" text-anchor="middle" font-size="12" font-weight="bold" fill="#0078D4">User</text>
  <text x="100" y="196" text-anchor="middle" font-size="9" fill="#666">Browser</text>
  <line x1="160" y1="170" x2="218" y2="170" stroke="#0078D4" stroke-width="2" marker-end="url(#arrow-blue)"/>
  <text x="190" y="163" text-anchor="middle" font-size="8" fill="#0078D4">HTTPS</text>

  <!-- Azure AI Foundry (external) -->
  <rect x="40" y="240" width="160" height="85" rx="10" fill="#E3F2FD" stroke="#0078D4" stroke-width="2" filter="url(#shadow)"/>
  <text x="120" y="265" text-anchor="middle" font-size="12" font-weight="bold" fill="#0078D4">‚òÅ Azure AI Foundry</text>
  <text x="120" y="280" text-anchor="middle" font-size="9" fill="#555">Azure OpenAI Endpoint</text>
  <text x="120" y="296" text-anchor="middle" font-size="8" fill="#1565C0">gpt-5.2-chat ¬∑ DeepSeek-V3.2</text>
  <text x="120" y="312" text-anchor="middle" font-size="7" fill="#888">rk-ai-services-project-eus2</text>

  <!-- ACR -->
  <rect x="40" y="345" width="160" height="70" rx="10" fill="#E3F2FD" stroke="#0078D4" stroke-width="2" filter="url(#shadow)"/>
  <text x="120" y="370" text-anchor="middle" font-size="12" font-weight="bold" fill="#0078D4">üì¶ Azure Container Registry</text>
  <text x="120" y="386" text-anchor="middle" font-size="9" fill="#555">rkimacr.azurecr.io</text>
  <text x="120" y="400" text-anchor="middle" font-size="8" fill="#888">agentframework-chatbot:v1</text>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--  AKS CLUSTER BOUNDARY                                         -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <rect x="220" y="120" width="1270" height="740" rx="14" fill="url(#k8s-grid)" stroke="#326CE5" stroke-width="3" filter="url(#shadow)"/>
  <rect x="220" y="120" width="1270" height="740" rx="14" fill="#EEF3FB" fill-opacity="0.55" stroke="#326CE5" stroke-width="3"/>
  <!-- AKS title bar -->
  <rect x="220" y="120" width="1270" height="36" rx="14" fill="#326CE5"/>
  <rect x="220" y="142" width="1270" height="14" fill="#326CE5"/>
  <text x="855" y="145" text-anchor="middle" font-size="16" font-weight="bold" fill="#FFFFFF">‚éà  Azure Kubernetes Service ‚Äî Cluster: rkaksdev   |   Resource Group: aks-solution   |   Namespace: default</text>

  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <!--  INGRESS-NGINX CONTROLLER (ingress-nginx ns)       -->
  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <rect x="240" y="170" width="340" height="90" rx="10" fill="#FFFFFF" stroke="#326CE5" stroke-width="2" filter="url(#shadow)"/>
  <rect x="240" y="170" width="340" height="22" rx="10" fill="#326CE5"/>
  <rect x="240" y="184" width="340" height="8" fill="#326CE5"/>
  <text x="410" y="187" text-anchor="middle" font-size="10" font-weight="bold" fill="#FFFFFF">INGRESS-NGINX CONTROLLER  (ns: ingress-nginx)</text>
  <text x="410" y="210" text-anchor="middle" font-size="10" fill="#333" font-weight="bold">Service: ingress-nginx-controller</text>
  <text x="410" y="225" text-anchor="middle" font-size="9" fill="#555">Type: LoadBalancer  ‚Ä¢  External IP: 4.239.205.137</text>
  <text x="410" y="240" text-anchor="middle" font-size="9" fill="#555">Ports: 80 (HTTP) / 443 (HTTPS)  ‚Ä¢  ingressClassName: nginx</text>
  <text x="410" y="253" text-anchor="middle" font-size="8" fill="#888">Deployed via Helm chart / ingress-nginx namespace</text>

  <!-- Arrow: Ingress ‚Üí Ingress Rule -->
  <line x1="410" y1="260" x2="410" y2="282" stroke="#326CE5" stroke-width="2" marker-end="url(#arrow-blue)"/>

  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <!--  INGRESS RULE                                      -->
  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <rect x="280" y="284" width="260" height="58" rx="8" fill="#FFFFFF" stroke="#326CE5" stroke-width="2" filter="url(#shadow)"/>
  <rect x="280" y="284" width="260" height="18" rx="8" fill="#5B9BD5"/>
  <rect x="280" y="296" width="260" height="6" fill="#5B9BD5"/>
  <text x="410" y="298" text-anchor="middle" font-size="9" font-weight="bold" fill="#FFFFFF">INGRESS  agentframework-chatbot</text>
  <text x="410" y="318" text-anchor="middle" font-size="9" fill="#333">Host: 4.239.205.137  ‚Ä¢  Path: /agentframework-chatbot (Prefix)</text>
  <text x="410" y="332" text-anchor="middle" font-size="9" fill="#555">Backend ‚Üí Service: agentframework-chatbot : 80</text>

  <!-- Arrow: Ingress Rule ‚Üí Service -->
  <line x1="410" y1="342" x2="410" y2="368" stroke="#326CE5" stroke-width="2" marker-end="url(#arrow-blue)"/>

  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <!--  CLUSTERIP SERVICE                                  -->
  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <rect x="280" y="370" width="260" height="55" rx="8" fill="#FFFFFF" stroke="#326CE5" stroke-width="2" filter="url(#shadow)"/>
  <rect x="280" y="370" width="260" height="18" rx="8" fill="#5B9BD5"/>
  <rect x="280" y="382" width="260" height="6" fill="#5B9BD5"/>
  <text x="410" y="384" text-anchor="middle" font-size="9" font-weight="bold" fill="#FFFFFF">SERVICE  agentframework-chatbot</text>
  <text x="410" y="402" text-anchor="middle" font-size="9" fill="#333">Type: ClusterIP  ‚Ä¢  Port: 80 ‚Üí targetPort: 8501</text>
  <text x="410" y="415" text-anchor="middle" font-size="9" fill="#555">Selector: app=agentframework-chatbot</text>

  <!-- Arrow: Service ‚Üí Deployment -->
  <line x1="410" y1="425" x2="410" y2="448" stroke="#326CE5" stroke-width="2" marker-end="url(#arrow-blue)"/>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--  SYSTEM / DEFAULT NODE POOL                                     -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <rect x="240" y="450" width="520" height="396" rx="10" fill="#F7F9FC" stroke="#326CE5" stroke-width="1.5" stroke-dasharray="8,4"/>
  <text x="500" y="472" text-anchor="middle" font-size="12" font-weight="bold" fill="#326CE5">üì¶ System / Default Node Pool  (CPU)</text>

  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <!--  DEPLOYMENT / POD                                   -->
  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <rect x="260" y="488" width="485" height="345" rx="10" fill="#FFFFFF" stroke="#326CE5" stroke-width="2" filter="url(#shadow)"/>
  <rect x="260" y="488" width="485" height="24" rx="10" fill="#326CE5"/>
  <rect x="260" y="504" width="485" height="8" fill="#326CE5"/>
  <text x="502" y="506" text-anchor="middle" font-size="11" font-weight="bold" fill="#FFFFFF">DEPLOYMENT  agentframework-chatbot   (1‚Äì3 replicas via HPA)</text>

  <!-- Pod boundary -->
  <rect x="275" y="522" width="455" height="298" rx="8" fill="#F0F4FF" stroke="#7BA7E0" stroke-width="1.5" stroke-dasharray="5,3"/>
  <text x="502" y="540" text-anchor="middle" font-size="10" font-weight="bold" fill="#326CE5">POD  (container: agentframework-chatbot)</text>
  <text x="502" y="554" text-anchor="middle" font-size="8" fill="#888">Image: rkimacr.azurecr.io/agentframework-chatbot:v1  ‚Ä¢  Python 3.13-slim + uv</text>

  <!-- Container internals: Application Layer -->
  <!-- Streamlit UI -->
  <rect x="290" y="566" width="200" height="110" rx="8" fill="#E8F4FD" stroke="#0078D4" stroke-width="1.5"/>
  <text x="390" y="584" text-anchor="middle" font-size="11" font-weight="bold" fill="#0078D4">Streamlit Chatbot UI</text>
  <text x="390" y="598" text-anchor="middle" font-size="8" fill="#555">chatbot/chatbot.py ¬∑ Port 8501</text>
  <rect x="300" y="606" width="85" height="22" rx="4" fill="#FFF" stroke="#99C9E8" stroke-width="1"/>
  <text x="342" y="621" text-anchor="middle" font-size="8" fill="#333">Sidebar Panel</text>
  <rect x="393" y="606" width="85" height="22" rx="4" fill="#FFF" stroke="#99C9E8" stroke-width="1"/>
  <text x="435" y="621" text-anchor="middle" font-size="8" fill="#333">Chat Area</text>
  <rect x="300" y="633" width="178" height="18" rx="4" fill="#FFF3E0" stroke="#F57C00" stroke-width="1"/>
  <text x="389" y="646" text-anchor="middle" font-size="7" fill="#E65100">‚öô config.yaml ‚Üí agent selection + defaults</text>
  <text x="390" y="670" text-anchor="middle" font-size="7" fill="#888">baseUrlPath=/agentframework-chatbot</text>

  <!-- Agent Framework SDK core -->
  <rect x="505" y="566" width="210" height="110" rx="8" fill="#FEF5F7" stroke="#D4145A" stroke-width="2.5" filter="url(#glow)"/>
  <rect x="505" y="566" width="210" height="20" rx="8" fill="#D4145A"/>
  <rect x="505" y="580" width="210" height="6" fill="#D4145A"/>
  <text x="610" y="581" text-anchor="middle" font-size="9" font-weight="bold" fill="#FFF">Agent Framework SDK</text>
  <text x="610" y="602" text-anchor="middle" font-size="9" font-weight="bold" fill="#D4145A">ChatAgent</text>
  <text x="610" y="614" text-anchor="middle" font-size="8" fill="#555">run() orchestration loop</text>
  <rect x="515" y="622" width="90" height="18" rx="3" fill="#FDE8EE" stroke="#E8899A" stroke-width="1"/>
  <text x="560" y="635" text-anchor="middle" font-size="7" font-weight="bold" fill="#8B0A30">ChatMessage</text>
  <rect x="612" y="622" width="90" height="18" rx="3" fill="#FDE8EE" stroke="#E8899A" stroke-width="1"/>
  <text x="657" y="635" text-anchor="middle" font-size="7" font-weight="bold" fill="#8B0A30">ChatOptions</text>
  <rect x="515" y="644" width="90" height="18" rx="3" fill="#FDE8EE" stroke="#E8899A" stroke-width="1"/>
  <text x="560" y="657" text-anchor="middle" font-size="7" font-weight="bold" fill="#8B0A30">ChatResponse</text>
  <rect x="612" y="644" width="90" height="18" rx="3" fill="#FDE8EE" stroke="#E8899A" stroke-width="1"/>
  <text x="657" y="657" text-anchor="middle" font-size="7" font-weight="bold" fill="#8B0A30">UsageDetails</text>
  <text x="610" y="674" text-anchor="middle" font-size="7" fill="#D4145A">BaseChatClient ¬∑ FinishReason ¬∑ Streaming</text>

  <!-- Arrow: UI ‚Üí SDK -->
  <line x1="490" y1="620" x2="503" y2="620" stroke="#D4145A" stroke-width="1.5" marker-end="url(#arrow-red)"/>

  <!-- Agent Factories (main.py) -->
  <rect x="290" y="692" width="190" height="115" rx="8" fill="#F3E5F5" stroke="#5C2D91" stroke-width="1.5"/>
  <text x="385" y="710" text-anchor="middle" font-size="10" font-weight="bold" fill="#5C2D91">Agent Factories</text>
  <text x="385" y="723" text-anchor="middle" font-size="7" fill="#666">main.py ‚Äî returns ChatAgent</text>
  <rect x="300" y="730" width="84" height="18" rx="3" fill="#FFF" stroke="#5C2D91" stroke-width="1"/>
  <text x="342" y="743" text-anchor="middle" font-size="7" fill="#5C2D91">General Chat</text>
  <rect x="390" y="730" width="84" height="18" rx="3" fill="#FFF" stroke="#5C2D91" stroke-width="1"/>
  <text x="432" y="743" text-anchor="middle" font-size="7" fill="#5C2D91">Kaito Asst.</text>
  <rect x="300" y="752" width="84" height="18" rx="3" fill="#FFF" stroke="#107C10" stroke-width="1"/>
  <text x="342" y="765" text-anchor="middle" font-size="7" fill="#107C10">KAITO RAG</text>
  <rect x="390" y="752" width="84" height="18" rx="3" fill="#FFF" stroke="#5C2D91" stroke-width="1"/>
  <text x="432" y="765" text-anchor="middle" font-size="7" fill="#5C2D91">Fitness</text>
  <rect x="340" y="774" width="84" height="18" rx="3" fill="#FFF" stroke="#5C2D91" stroke-width="1"/>
  <text x="382" y="787" text-anchor="middle" font-size="7" fill="#5C2D91">Agent1 Demo</text>
  <text x="385" y="803" text-anchor="middle" font-size="7" fill="#D4145A">uses SDK ChatAgent + ChatClient</text>

  <!-- Chat Client Implementations -->
  <rect x="500" y="692" width="215" height="115" rx="8" fill="#E8F5E9" stroke="#107C10" stroke-width="1.5"/>
  <text x="607" y="710" text-anchor="middle" font-size="10" font-weight="bold" fill="#107C10">Chat Clients</text>
  <text x="607" y="723" text-anchor="middle" font-size="7" fill="#666">ai_chat_client.py ‚Äî extends BaseChatClient</text>

  <rect x="510" y="732" width="95" height="34" rx="4" fill="#FFF" stroke="#0078D4" stroke-width="1.5"/>
  <rect x="510" y="732" width="95" height="12" rx="4" fill="#D4145A"/>
  <rect x="510" y="740" width="95" height="4" fill="#D4145A"/>
  <text x="557" y="741" text-anchor="middle" font-size="6" font-weight="bold" fill="#FFF">SDK BUILT-IN</text>
  <text x="557" y="758" text-anchor="middle" font-size="7" font-weight="bold" fill="#0078D4">AzureOpenAI</text>

  <rect x="612" y="732" width="95" height="34" rx="4" fill="#FFF" stroke="#107C10" stroke-width="1.5"/>
  <rect x="612" y="732" width="95" height="12" rx="4" fill="#D4145A"/>
  <rect x="612" y="740" width="95" height="4" fill="#D4145A"/>
  <text x="659" y="741" text-anchor="middle" font-size="6" font-weight="bold" fill="#FFF">CUSTOM SDK</text>
  <text x="659" y="758" text-anchor="middle" font-size="7" font-weight="bold" fill="#107C10">KaitoChatClient</text>

  <text x="607" y="780" text-anchor="middle" font-size="7" fill="#555">+extra_payload (index_name)</text>
  <text x="607" y="793" text-anchor="middle" font-size="7" fill="#D4145A">_inner_get_response()</text>

  <!-- Arrows: Factories ‚Üí Clients -->
  <line x1="480" y1="750" x2="508" y2="750" stroke="#333" stroke-width="1" marker-end="url(#arrow)"/>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--  CONFIG / SECRETS ‚Äî injected into Pod                       -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <rect x="600" y="170" width="190" height="105" rx="8" fill="#FFF3E0" stroke="#F57C00" stroke-width="2" filter="url(#shadow)"/>
  <text x="695" y="192" text-anchor="middle" font-size="11" font-weight="bold" fill="#E65100">K8s Config Injection</text>

  <rect x="615" y="202" width="160" height="28" rx="5" fill="#FFF" stroke="#F57C00" stroke-width="1"/>
  <text x="695" y="216" text-anchor="middle" font-size="9" font-weight="bold" fill="#E65100">ConfigMap</text>
  <text x="695" y="226" text-anchor="middle" font-size="7" fill="#666">agentframework-chatbot-config</text>

  <rect x="615" y="234" width="160" height="28" rx="5" fill="#FFF" stroke="#F57C00" stroke-width="1"/>
  <text x="695" y="248" text-anchor="middle" font-size="9" font-weight="bold" fill="#E65100">Secret (Opaque)</text>
  <text x="695" y="258" text-anchor="middle" font-size="7" fill="#666">agentframework-chatbot-secrets</text>

  <text x="695" y="274" text-anchor="middle" font-size="7" fill="#888">envFrom ‚Üí container env vars</text>

  <!-- Arrow: ConfigMap/Secret ‚Üí Pod -->
  <line x1="695" y1="275" x2="695" y2="540" stroke="#F57C00" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrow-orange)"/>
  <text x="705" y="410" font-size="7" fill="#F57C00" transform="rotate(90,705,410)">envFrom</text>

  <!-- HPA -->
  <rect x="600" y="290" width="190" height="60" rx="8" fill="#FFFFFF" stroke="#326CE5" stroke-width="2" filter="url(#shadow)"/>
  <rect x="600" y="290" width="190" height="16" rx="8" fill="#5B9BD5"/>
  <rect x="600" y="300" width="190" height="6" fill="#5B9BD5"/>
  <text x="695" y="303" text-anchor="middle" font-size="8" font-weight="bold" fill="#FFF">HPA  agentframework-chatbot</text>
  <text x="695" y="322" text-anchor="middle" font-size="9" fill="#333">min: 1 ‚Üí max: 3 replicas</text>
  <text x="695" y="336" text-anchor="middle" font-size="9" fill="#555">Metric: CPU avg ‚â• 70%</text>
  <!-- Arrow: HPA ‚Üí Deployment -->
  <line x1="695" y1="350" x2="502" y2="490" stroke="#326CE5" stroke-width="1" stroke-dasharray="4,3" marker-end="url(#arrow-blue)"/>
  <text x="610" y="415" font-size="7" fill="#326CE5">scales</text>

  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <!--  HEALTH PROBES callout                              -->
  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <rect x="600" y="364" width="190" height="56" rx="6" fill="#FFF" stroke="#888" stroke-width="1"/>
  <text x="695" y="380" text-anchor="middle" font-size="9" font-weight="bold" fill="#333">Health Probes</text>
  <text x="695" y="394" text-anchor="middle" font-size="8" fill="#555">readiness: GET /_stcore/health</text>
  <text x="695" y="406" text-anchor="middle" font-size="8" fill="#555">liveness:  GET /_stcore/health</text>
  <text x="695" y="416" text-anchor="middle" font-size="7" fill="#888">init: 10s/30s  ‚Ä¢  period: 10s/20s</text>

  <!-- Resource limits -->
  <rect x="275" y="808" width="200" height="28" rx="4" fill="#FFF" stroke="#888" stroke-width="1"/>
  <text x="375" y="826" text-anchor="middle" font-size="8" fill="#555">Resources: CPU 100m‚Äì1  ‚Ä¢  Mem 512Mi‚Äì1Gi</text>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--  GPU NODE POOL                                                  -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <rect x="790" y="450" width="680" height="396" rx="10" fill="#F0FAF0" stroke="#107C10" stroke-width="1.5" stroke-dasharray="8,4"/>
  <text x="1130" y="472" text-anchor="middle" font-size="12" font-weight="bold" fill="#107C10">‚ö° GPU Node Pool  (NVIDIA)</text>
  <text x="1130" y="486" text-anchor="middle" font-size="8" fill="#888">KAITO-managed workloads ¬∑ GPU-accelerated inference</text>

  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <!--  KAITO INFERENCE WORKSPACE                          -->
  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <rect x="810" y="500" width="310" height="190" rx="10" fill="#FFFFFF" stroke="#107C10" stroke-width="2" filter="url(#shadow)"/>
  <!-- K8s labels -->
  <rect x="810" y="500" width="310" height="22" rx="10" fill="#107C10"/>
  <rect x="810" y="514" width="310" height="8" fill="#107C10"/>
  <text x="965" y="516" text-anchor="middle" font-size="9" font-weight="bold" fill="#FFF">KAITO WORKSPACE  workspace-phi-4-mini</text>

  <rect x="825" y="534" width="280" height="40" rx="6" fill="#C8E6C9" stroke="#81C784" stroke-width="1"/>
  <text x="965" y="553" text-anchor="middle" font-size="11" font-weight="bold" fill="#2E7D32">phi-4-mini-instruct</text>
  <text x="965" y="567" text-anchor="middle" font-size="8" fill="#555">Direct LLM Inference (no RAG)</text>

  <!-- Service for KAITO workspace -->
  <rect x="825" y="582" width="280" height="36" rx="5" fill="#FFF" stroke="#326CE5" stroke-width="1.5"/>
  <rect x="825" y="582" width="280" height="14" rx="5" fill="#5B9BD5"/>
  <rect x="825" y="592" width="280" height="4" fill="#5B9BD5"/>
  <text x="965" y="593" text-anchor="middle" font-size="7" font-weight="bold" fill="#FFF">SERVICE  workspace-phi-4-mini  (ClusterIP)</text>
  <text x="965" y="610" text-anchor="middle" font-size="8" fill="#555">workspace-phi-4-mini.default.svc.cluster.local:80</text>

  <text x="965" y="634" text-anchor="middle" font-size="9" fill="#107C10">/v1/chat/completions</text>
  <text x="965" y="648" text-anchor="middle" font-size="8" fill="#888">OpenAI-compatible API</text>

  <!-- Pod label -->
  <rect x="825" y="655" width="280" height="22" rx="4" fill="#F0F4FF" stroke="#7BA7E0" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="965" y="670" text-anchor="middle" font-size="8" fill="#326CE5">Pod: workspace-phi-4-mini-* (GPU attached)</text>

  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <!--  KAITO RAGENGINE                                    -->
  <!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <rect x="1140" y="500" width="310" height="335" rx="10" fill="#FFFFFF" stroke="#107C10" stroke-width="2.5" filter="url(#shadow)"/>
  <rect x="1140" y="500" width="310" height="22" rx="10" fill="#107C10"/>
  <rect x="1140" y="514" width="310" height="8" fill="#107C10"/>
  <text x="1295" y="516" text-anchor="middle" font-size="9" font-weight="bold" fill="#FFF">KAITO RAGENGINE  ragengine-example</text>

  <!-- RAG pipeline steps -->
  <rect x="1155" y="534" width="135" height="38" rx="5" fill="#C8E6C9" stroke="#81C784" stroke-width="1"/>
  <text x="1222" y="551" text-anchor="middle" font-size="9" font-weight="bold" fill="#2E7D32">‚ë† Embed Query</text>
  <text x="1222" y="564" text-anchor="middle" font-size="7" fill="#555">bge-small-en-v1.5</text>

  <rect x="1298" y="534" width="135" height="38" rx="5" fill="#FFF9C4" stroke="#FBC02D" stroke-width="1"/>
  <text x="1365" y="551" text-anchor="middle" font-size="9" font-weight="bold" fill="#F57F17">‚ë° Vector Search</text>
  <text x="1365" y="564" text-anchor="middle" font-size="7" fill="#555">index: rag_index</text>

  <line x1="1290" y1="553" x2="1296" y2="553" stroke="#888" stroke-width="1" marker-end="url(#arrow)"/>

  <rect x="1155" y="580" width="135" height="32" rx="5" fill="#E8EAF6" stroke="#5C6BC0" stroke-width="1"/>
  <text x="1222" y="600" text-anchor="middle" font-size="9" font-weight="bold" fill="#283593">‚ë¢ Retrieve top-k</text>

  <rect x="1298" y="580" width="135" height="32" rx="5" fill="#C8E6C9" stroke="#81C784" stroke-width="1"/>
  <text x="1365" y="600" text-anchor="middle" font-size="9" font-weight="bold" fill="#2E7D32">‚ë£ LLM Inference</text>

  <line x1="1290" y1="596" x2="1296" y2="596" stroke="#888" stroke-width="1" marker-end="url(#arrow)"/>

  <rect x="1190" y="620" width="200" height="26" rx="5" fill="#FFFFFF" stroke="#107C10" stroke-width="1"/>
  <text x="1290" y="638" text-anchor="middle" font-size="9" fill="#107C10">‚ë§ Grounded answer + source_nodes</text>

  <!-- Service for RAGEngine -->
  <rect x="1155" y="660" width="280" height="36" rx="5" fill="#FFF" stroke="#326CE5" stroke-width="1.5"/>
  <rect x="1155" y="660" width="280" height="14" rx="5" fill="#5B9BD5"/>
  <rect x="1155" y="670" width="280" height="4" fill="#5B9BD5"/>
  <text x="1295" y="671" text-anchor="middle" font-size="7" font-weight="bold" fill="#FFF">SERVICE  ragengine-example  (ClusterIP)</text>
  <text x="1295" y="688" text-anchor="middle" font-size="8" fill="#555">ragengine-example.default.svc.cluster.local:80</text>

  <text x="1295" y="712" text-anchor="middle" font-size="9" fill="#107C10">/v1/chat/completions + index_name</text>
  <text x="1295" y="726" text-anchor="middle" font-size="8" fill="#888">OpenAI-compatible with RAG extension</text>

  <!-- Pods -->
  <rect x="1155" y="738" width="280" height="22" rx="4" fill="#F0F4FF" stroke="#7BA7E0" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="1295" y="753" text-anchor="middle" font-size="8" fill="#326CE5">Pod: ragengine-example-* (GPU attached)</text>

  <!-- RAGEngine model info -->
  <rect x="1155" y="768" width="280" height="54" rx="6" fill="#F0FAF0" stroke="#107C10" stroke-width="1"/>
  <text x="1295" y="786" text-anchor="middle" font-size="8" font-weight="bold" fill="#107C10">Dual-Model Architecture</text>
  <text x="1295" y="800" text-anchor="middle" font-size="8" fill="#555">Embedding: BAAI/bge-small-en-v1.5</text>
  <text x="1295" y="813" text-anchor="middle" font-size="8" fill="#555">Inference: phi-4-mini-instruct</text>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--  DATA FLOW ARROWS between pods (in-cluster)                     -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

  <!-- Chatbot Pod ‚Üí Azure AI Foundry (external) -->
  <path d="M 290 680 Q 180 680, 120 325" fill="none" stroke="#0078D4" stroke-width="2" marker-end="url(#arrow-blue)"/>
  <text x="170" y="510" font-size="8" fill="#0078D4" transform="rotate(-75,170,510)">HTTPS (external)</text>

  <!-- Chatbot Pod ‚Üí KAITO Workspace (in-cluster) -->
  <line x1="730" y1="615" x2="823" y2="615" stroke="#107C10" stroke-width="2" marker-end="url(#arrow-green)"/>
  <text x="778" y="608" text-anchor="middle" font-size="8" fill="#107C10">HTTP in-cluster</text>

  <!-- Chatbot Pod ‚Üí RAGEngine (in-cluster) -->
  <line x1="730" y1="750" x2="1138" y2="700" stroke="#107C10" stroke-width="2" marker-end="url(#arrow-green)"/>
  <text x="920" y="718" text-anchor="middle" font-size="8" fill="#107C10">HTTP + index_name</text>

  <!-- ACR ‚Üí Deployment (image pull) -->
  <path d="M 200 385 Q 230 385, 260 510" fill="none" stroke="#0078D4" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrow-blue)"/>
  <text x="215" y="460" font-size="7" fill="#0078D4" transform="rotate(75,215,460)">image pull</text>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--  KUSTOMIZE / DEPLOY PIPELINE STRIP                            -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <rect x="30" y="880" width="1460" height="90" rx="10" fill="#FFF" stroke="#5C2D91" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="760" y="905" text-anchor="middle" font-size="14" font-weight="bold" fill="#5C2D91">Deployment Pipeline ‚Äî Kustomize + kubectl apply -k</text>

  <rect x="55" y="918" width="140" height="36" rx="6" fill="#F3E5F5" stroke="#5C2D91" stroke-width="1"/>
  <text x="125" y="935" text-anchor="middle" font-size="9" font-weight="bold" fill="#5C2D91">kustomization.yaml</text>
  <text x="125" y="948" text-anchor="middle" font-size="7" fill="#666">image overlay + resources</text>

  <line x1="195" y1="936" x2="215" y2="936" stroke="#333" stroke-width="1" marker-end="url(#arrow)"/>

  <rect x="218" y="918" width="100" height="36" rx="6" fill="#FFF3E0" stroke="#F57C00" stroke-width="1"/>
  <text x="268" y="935" text-anchor="middle" font-size="9" font-weight="bold" fill="#E65100">configmap.yaml</text>
  <text x="268" y="948" text-anchor="middle" font-size="7" fill="#666">env vars</text>

  <rect x="324" y="918" width="86" height="36" rx="6" fill="#FFF3E0" stroke="#F57C00" stroke-width="1"/>
  <text x="367" y="935" text-anchor="middle" font-size="9" font-weight="bold" fill="#E65100">secret.yaml</text>
  <text x="367" y="948" text-anchor="middle" font-size="7" fill="#666">API keys</text>

  <rect x="416" y="918" width="110" height="36" rx="6" fill="#E3F2FD" stroke="#326CE5" stroke-width="1"/>
  <text x="471" y="935" text-anchor="middle" font-size="9" font-weight="bold" fill="#326CE5">deployment.yaml</text>
  <text x="471" y="948" text-anchor="middle" font-size="7" fill="#666">replicas, image, probes</text>

  <rect x="532" y="918" width="90" height="36" rx="6" fill="#E3F2FD" stroke="#326CE5" stroke-width="1"/>
  <text x="577" y="935" text-anchor="middle" font-size="9" font-weight="bold" fill="#326CE5">service.yaml</text>
  <text x="577" y="948" text-anchor="middle" font-size="7" fill="#666">ClusterIP</text>

  <rect x="628" y="918" width="90" height="36" rx="6" fill="#E3F2FD" stroke="#326CE5" stroke-width="1"/>
  <text x="673" y="935" text-anchor="middle" font-size="9" font-weight="bold" fill="#326CE5">ingress.yaml</text>
  <text x="673" y="948" text-anchor="middle" font-size="7" fill="#666">path rules</text>

  <rect x="724" y="918" width="70" height="36" rx="6" fill="#E3F2FD" stroke="#326CE5" stroke-width="1"/>
  <text x="759" y="935" text-anchor="middle" font-size="9" font-weight="bold" fill="#326CE5">hpa.yaml</text>
  <text x="759" y="948" text-anchor="middle" font-size="7" fill="#666">autoscale</text>

  <line x1="800" y1="936" x2="820" y2="936" stroke="#333" stroke-width="1" marker-end="url(#arrow)"/>

  <rect x="825" y="918" width="150" height="36" rx="6" fill="#F3E5F5" stroke="#5C2D91" stroke-width="1"/>
  <text x="900" y="935" text-anchor="middle" font-size="9" font-weight="bold" fill="#5C2D91">deploy_to_aks.sh</text>
  <text x="900" y="948" text-anchor="middle" font-size="7" fill="#666">ACR attach ¬∑ Kustomize ¬∑ IP patch</text>

  <line x1="975" y1="936" x2="995" y2="936" stroke="#333" stroke-width="1" marker-end="url(#arrow)"/>

  <rect x="1000" y="918" width="150" height="36" rx="6" fill="#F3E5F5" stroke="#5C2D91" stroke-width="1"/>
  <text x="1075" y="935" text-anchor="middle" font-size="9" font-weight="bold" fill="#5C2D91">run_docker_acr.sh</text>
  <text x="1075" y="948" text-anchor="middle" font-size="7" fill="#666">docker build ¬∑ push ¬∑ rollout</text>

  <rect x="1155" y="918" width="110" height="36" rx="6" fill="#E3F2FD" stroke="#0078D4" stroke-width="1"/>
  <text x="1210" y="935" text-anchor="middle" font-size="9" font-weight="bold" fill="#0078D4">Dockerfile</text>
  <text x="1210" y="948" text-anchor="middle" font-size="7" fill="#666">python:3.13-slim + uv</text>

  <rect x="1270" y="918" width="110" height="36" rx="6" fill="#E3F2FD" stroke="#0078D4" stroke-width="1"/>
  <text x="1325" y="935" text-anchor="middle" font-size="9" font-weight="bold" fill="#0078D4">acr-pull-secret</text>
  <text x="1325" y="948" text-anchor="middle" font-size="7" fill="#666">dockerconfigjson</text>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--  REQUEST FLOW + LEGEND                                        -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <rect x="30" y="990" width="740" height="230" rx="8" fill="#FFF" stroke="#CCC" stroke-width="1"/>
  <text x="55" y="1015" font-size="14" font-weight="bold" fill="#333">Request Flow Through K8s + SDK</text>

  <text x="55" y="1038" font-size="10" fill="#326CE5" font-weight="bold">1.</text>
  <text x="75" y="1038" font-size="10" fill="#333">User HTTPS ‚Üí <tspan font-weight="bold" fill="#326CE5">Ingress-NGINX LoadBalancer</tspan> (4.239.205.137)</text>

  <text x="55" y="1058" font-size="10" fill="#326CE5" font-weight="bold">2.</text>
  <text x="75" y="1058" font-size="10" fill="#333"><tspan font-weight="bold" fill="#326CE5">Ingress Rule</tspan> matches /agentframework-chatbot ‚Üí routes to <tspan font-weight="bold" fill="#326CE5">ClusterIP Service</tspan> :80</text>

  <text x="55" y="1078" font-size="10" fill="#326CE5" font-weight="bold">3.</text>
  <text x="75" y="1078" font-size="10" fill="#333"><tspan font-weight="bold" fill="#326CE5">Service</tspan> forwards ‚Üí <tspan font-weight="bold" fill="#326CE5">Deployment Pod</tspan> targetPort 8501 (Streamlit)</text>

  <text x="55" y="1098" font-size="10" fill="#D4145A" font-weight="bold">4.</text>
  <text x="75" y="1098" font-size="10" fill="#333">Chatbot dispatches ‚Üí <tspan font-weight="bold" fill="#D4145A">Agent Factory</tspan> ‚Üí builds SDK <tspan font-weight="bold" fill="#D4145A">ChatAgent</tspan></text>

  <text x="55" y="1118" font-size="10" fill="#D4145A" font-weight="bold">5.</text>
  <text x="75" y="1118" font-size="10" fill="#333">ChatAgent.run() ‚Üí <tspan font-weight="bold" fill="#D4145A">ChatClient</tspan>._inner_get_response() ‚Üí HTTP to backend</text>

  <text x="55" y="1138" font-size="10" fill="#107C10" font-weight="bold">6a.</text>
  <text x="85" y="1138" font-size="10" fill="#333">‚Üí <tspan font-weight="bold" fill="#107C10">KAITO Service</tspan> (ClusterIP) ‚Üí GPU Pod ‚Üí phi-4-mini inference</text>

  <text x="55" y="1158" font-size="10" fill="#107C10" font-weight="bold">6b.</text>
  <text x="85" y="1158" font-size="10" fill="#333">‚Üí <tspan font-weight="bold" fill="#107C10">RAGEngine Service</tspan> (ClusterIP) ‚Üí embed ‚Üí vector search ‚Üí LLM ‚Üí grounded answer</text>

  <text x="55" y="1178" font-size="10" fill="#0078D4" font-weight="bold">6c.</text>
  <text x="85" y="1178" font-size="10" fill="#333">‚Üí <tspan font-weight="bold" fill="#0078D4">Azure AI Foundry</tspan> (external HTTPS) ‚Üí gpt-5.2-chat / DeepSeek-V3.2</text>

  <text x="55" y="1203" font-size="10" fill="#333">7.  Response ‚Üí SDK ChatResponse + UsageDetails ‚Üí Streamlit ‚Üí User browser</text>

  <!-- Legend -->
  <rect x="790" y="990" width="700" height="230" rx="8" fill="#FFF" stroke="#CCC" stroke-width="1"/>
  <text x="820" y="1015" font-size="14" font-weight="bold" fill="#333">Legend ‚Äî K8s Resources &amp; Application Layers</text>

  <!-- K8s resources -->
  <rect x="820" y="1030" width="16" height="12" rx="3" fill="#326CE5"/>
  <text x="844" y="1040" font-size="10" fill="#333">Kubernetes resource header (Deployment, Service, Ingress, HPA)</text>

  <rect x="820" y="1050" width="16" height="12" rx="3" fill="#FFF" stroke="#326CE5" stroke-width="2"/>
  <text x="844" y="1060" font-size="10" fill="#333">K8s resource body / specification</text>

  <rect x="820" y="1070" width="16" height="12" rx="3" fill="#F7F9FC" stroke="#326CE5" stroke-width="1" stroke-dasharray="4,2"/>
  <text x="844" y="1080" font-size="10" fill="#333">Node pool boundary (CPU / GPU)</text>

  <rect x="820" y="1090" width="16" height="12" rx="3" fill="#F0F4FF" stroke="#7BA7E0" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="844" y="1100" font-size="10" fill="#333">Pod boundary (container)</text>

  <!-- App layers -->
  <rect x="820" y="1120" width="16" height="12" rx="3" fill="#FEF5F7" stroke="#D4145A" stroke-width="2"/>
  <text x="844" y="1130" font-size="10" fill="#333">Agent Framework SDK component (red border)</text>

  <rect x="820" y="1140" width="16" height="12" rx="3" fill="#F3E5F5" stroke="#5C2D91" stroke-width="1"/>
  <text x="844" y="1150" font-size="10" fill="#333">Agent factory layer (main.py)</text>

  <rect x="820" y="1160" width="16" height="12" rx="3" fill="#E8F5E9" stroke="#107C10" stroke-width="1"/>
  <text x="844" y="1170" font-size="10" fill="#333">KAITO / RAGEngine (GPU workloads)</text>

  <rect x="820" y="1180" width="16" height="12" rx="3" fill="#FFF3E0" stroke="#F57C00" stroke-width="1"/>
  <text x="844" y="1190" font-size="10" fill="#333">Configuration (ConfigMap, Secret, config.yaml)</text>

  <!-- Lines -->
  <line x1="1210" y1="1035" x2="1250" y2="1035" stroke="#326CE5" stroke-width="2"/>
  <text x="1258" y="1039" font-size="10" fill="#333">K8s routing (Ingress ‚Üí Service ‚Üí Pod)</text>

  <line x1="1210" y1="1055" x2="1250" y2="1055" stroke="#D4145A" stroke-width="2"/>
  <text x="1258" y="1059" font-size="10" fill="#333">SDK dependency / data flow</text>

  <line x1="1210" y1="1075" x2="1250" y2="1075" stroke="#107C10" stroke-width="2"/>
  <text x="1258" y="1079" font-size="10" fill="#333">In-cluster HTTP (ClusterIP)</text>

  <line x1="1210" y1="1095" x2="1250" y2="1095" stroke="#0078D4" stroke-width="2"/>
  <text x="1258" y="1099" font-size="10" fill="#333">External HTTPS (Azure AI Foundry)</text>

  <line x1="1210" y1="1115" x2="1250" y2="1115" stroke="#F57C00" stroke-width="1.5" stroke-dasharray="5,3"/>
  <text x="1258" y="1119" font-size="10" fill="#333">Config / secret injection (envFrom)</text>

  <!-- Key insight -->
  <rect x="820" y="1140" width="660" height="70" rx="6" fill="#FDE8EE" stroke="#D4145A" stroke-width="1.5"/>
  <text x="840" y="1161" font-size="11" font-weight="bold" fill="#D4145A">üí° Architecture Insight</text>
  <text x="840" y="1177" font-size="9" fill="#555">The Agent Framework SDK runs inside a single Deployment Pod on the CPU node pool. It connects to three backends via K8s Services:</text>
  <text x="840" y="1192" font-size="9" fill="#555">KAITO Workspace and RAGEngine use in-cluster ClusterIP (no egress), while Azure AI Foundry uses external HTTPS.</text>
  <text x="840" y="1205" font-size="9" fill="#555">The BaseChatClient contract means adding a new backend only requires a new _inner_get_response() ‚Äî zero K8s manifest changes needed.</text>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--  SUBSCRIPTION / IDENTITY INFO BAR                              -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <rect x="30" y="1240" width="1460" height="60" rx="8" fill="#1A1A1A"/>
  <text x="760" y="1262" text-anchor="middle" font-size="12" font-weight="bold" fill="#FFFFFF">Azure Subscriptions &amp; Identity</text>

  <text x="80" y="1285" font-size="9" fill="#AAAAAA">AKS Subscription: ed4bb153-‚Ä¶-dc0f00cd8be3</text>
  <text x="420" y="1285" font-size="9" fill="#AAAAAA">ACR Subscription: de8b8186-‚Ä¶-f0dfd6a3655d</text>
  <text x="760" y="1285" font-size="9" fill="#AAAAAA">RG (AKS): aks-solution</text>
  <text x="960" y="1285" font-size="9" fill="#AAAAAA">RG (ACR): enterprise</text>
  <text x="1160" y="1285" font-size="9" fill="#AAAAAA">ACR Pull: Kubelet Managed Identity + RBAC</text>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!--  HOW SDK IS APPLIED (compact)                                  -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <rect x="30" y="1316" width="1460" height="148" rx="10" fill="#FFF" stroke="#D4145A" stroke-width="2" filter="url(#shadow)"/>
  <rect x="30" y="1316" width="1460" height="28" rx="10" fill="#D4145A"/>
  <rect x="30" y="1336" width="1460" height="8" fill="#D4145A"/>
  <text x="760" y="1337" text-anchor="middle" font-size="13" font-weight="bold" fill="#FFF">üî¥  How the Agent Framework SDK Is Applied Inside the K8s Pod</text>

  <text x="60" y="1365" font-size="10" font-weight="bold" fill="#1A1A1A">1. Agent Abstraction (ChatAgent)</text>
  <text x="295" y="1365" font-size="9" fill="#555">Each factory returns a ChatAgent with instructions + model. The SDK's run() loop handles message prep, model call, and response parsing.</text>

  <text x="60" y="1385" font-size="10" font-weight="bold" fill="#1A1A1A">2. Chat Client Contract (BaseChatClient)</text>
  <text x="320" y="1385" font-size="9" fill="#555">AzureOpenAIChatClient = SDK built-in. KaitoChatClient = custom, extends SDK. Both override _inner_get_response() only.</text>

  <text x="60" y="1405" font-size="10" font-weight="bold" fill="#1A1A1A">3. Type System</text>
  <text x="186" y="1405" font-size="9" fill="#555">ChatMessage(role, text) ¬∑ ChatOptions(temp, max_tokens) ¬∑ ChatResponse + UsageDetails (prompt/completion tokens) + FinishReason</text>

  <text x="60" y="1425" font-size="10" font-weight="bold" fill="#1A1A1A">4. K8s Integration</text>
  <text x="195" y="1425" font-size="9" fill="#555">ConfigMap env vars ‚Üí ChatOptions defaults. Secret ‚Üí API keys. ClusterIP Services ‚Üí ChatClient HTTP targets. HPA scales the SDK pod.</text>

  <text x="60" y="1450" font-size="10" font-weight="bold" fill="#1A1A1A">5. Extensibility</text>
  <text x="178" y="1450" font-size="9" fill="#555">Add a new LLM backend: implement BaseChatClient ‚Üí deploy as ClusterIP Service ‚Üí add agent to config.yaml ‚Üí no K8s manifest changes for existing resources.</text>
</svg>
